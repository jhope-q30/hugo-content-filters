<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{- $currentPage := . -}}
    {{ with .Description }}<meta name="description" data-pagefind-meta="description[content]" content="{{ . | safeHTML }}">{{ end }}
    {{ with .Date }}<meta name="date" data-pagefind-meta="date[content]" content="{{ . | time.Format ":date_medium" }}">{{ end }}
    {{ with .Type }}<meta name="section" {{ if $currentPage.IsPage }} data-pagefind-filter="section[content]"{{ end }} content="{{ . }}">{{ end }}
    {{ if .IsPage }}
    {{ with site.Taxonomies }}
    <script type="application/ld+json" data-pagefind-meta="taxonomy">
        [
        {{- $a := 0 -}}
        {{- range $k, $v := . }}
            {{- if ne $a 0 }},{{- end }}
            {
                "@context": "http://schema.org",
                "@type": "{{ $k }}",
                "@taxonomy": "{{ strings.FirstUpper $k }}",
                "tags": [
                    {{- $b := 0 -}}
                    {{- range $currentPage.GetTerms $k }}
                    {{- if ne $b 0 }},{{- end }}
                    {
                        "title": "{{ .Title | safeHTML }}",
                        "url": {{ .RelPermalink }}
                    }
                    {{- $b = 1 -}}
                    {{- end }}
                ]
            }
            {{- $a = 1 -}}
        {{- end }}
        ]
    </script>
    {{ end }}
    {{ end }}
    <link href="/css/default.css" rel="stylesheet">
    <title>
        {{- if .IsHome -}}
        {{- .Site.Title | safeHTML -}}
        {{- else -}}
        {{- print .Site.Title " | " .Title | safeHTML -}}
        {{- end -}}
    </title>
</head>
<body>
    <header>
        <h1>{{ .Title | safeHTML }}</h1>
        <nav>{{- range site.Menus.main }}<a href="{{ .URL }}">{{ .Name | safeHTML }}</a>&nbsp;&nbsp;&nbsp;&nbsp;{{- end }}</nav>
    </header>
    <main>
        {{ block "main" . }}{{ end }}
    </main>
    <footer>
        <p>&copy; {{ now.Format "2006" }} Q30 Design</p>
    </footer>
    {{- with resources.Get "js/default.js" | js.Build ( dict "targetPath" "/js/default.js" "minify" ( not hugo.IsDevelopment ) "params" site.Params.styles ) }}
    <script src="{{ .RelPermalink }}"></script>
    {{- end }}
    <script src="/js/pagefind.js"></script>
</body>
</html>